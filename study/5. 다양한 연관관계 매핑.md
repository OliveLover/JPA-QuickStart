<h1>5. 다양한 연관관계 매핑</h1>

<h3>1. 일대일 단방향 매핑</h3>

<p> 다중성 측면에서 일대일 관계는 관계에 참여하는 테이블이나 엔티티가 상대방에 대해서 하나의 관계만 가집니다. 방향성 측면에서 단방향은 하나의 엔티티에서만 다른 엔티티의 참조를 유지하도록 하는 것입니다.</p>

<h4>가정</h4>

```
사원증(EmployeeCard)과 직원(Employee)이 있습니다.
하나의 사원증은 한 명의 직원에 의해서만 소유될 수 있습니다.
사원증과 직원은 일대일 관계입니다.
사원증을 조회했을 때, 사원증을 소유한 직원 정보도 같이 사용할 수 있습니다.
반대로 사원을 통해서는 사원증 정보에 접근할 수는 없습니다.
```

<h4>ERD</h4>
<img width="595" alt="스크린샷 2024-07-06 오전 11 36 22" src="https://github.com/OliveLover/JPA-QuickStart/assets/118647313/1be92bcf-2ac4-4fc3-92ba-33dc2cc84700">

<h4>Class Diagram</h4>

<p>객체 지향 관점에서 보면 직원을 통해 직원이 소유한 사원증을 사용할 수 있도록 하는 것이 더 적합할 수 있습니다. 아래는 객체지향적인 관점에서 작성한 클래스 다이어그램입니다.</p>

<img width="413" alt="image" src="https://github.com/OliveLover/JPA-QuickStart/assets/118647313/4852c637-4220-416a-b665-f52ed9a12708">

```
import lombok.Data;

import javax.persistence.*;

@Data
@Entity
@Table(name = "S_EMP")
public class Employee {

    @Id
    @GeneratedValue(strategy = GenerationType.IDENTITY)
    private Long id;

    @Column(length = 25, nullable = false)
    private String name;
}
```

```
import lombok.Data;

import javax.persistence.*;
import java.util.Date;

@Data
@Entity
@Table(name = "S_EMP_CARD")
public class EmployeeCard {

    @Id
    @GeneratedValue(strategy = GenerationType.IDENTITY)
    @Column
    private Long cardId;    // 사원증 아이디

    @Column(name = "EXPIRE_DATE")
    private Date expireDate;    // 사원증 만료 기간

    private String role;   // 권한

    @OneToOne
    @JoinColumn(name = "EMP_CARD_ID")
    private Employee employee;
}
```

```

```
